(()=>{"use strict";var e={385:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},875:(e,t,s)=>{e.exports=s.p+"images/favicon-32x32.ed0873eb.png"}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),s.b=document.baseURI||self.location.href;var r={};(()=>{s.r(r);var e,t,n,o,i,a=s(385),l=s.n(a),d=new URL(s(875),s.b);l()(d);class u{constructor({tag:e="div",classNames:t=[],text:s=""},...r){this.children=[];const n=document.createElement(e);n.classList.add(...t),n.textContent=s,this.node=n,r&&this.appendChildren(r)}append(e){this.children.push(e),this.node.append(e.getNode())}appendChildren(e){e.forEach((e=>{this.append(e)}))}getNode(){return this.node}getChildren(){return this.children}setTextContent(e){this.node.textContent=e}setAttribute(e,t){this.node.setAttribute(e,t)}setAttributes(e){Object.keys(e).forEach((t=>{this.node.setAttribute(t,e[t])}))}getAttribute(e){return this.node.getAttribute(e)}removeAttribute(e){this.node.removeAttribute(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e){this.node.classList.toggle(e)}addListener(e,t,s=!1){this.node.addEventListener(e,t,s)}removeListener(e,t,s=!1){this.node.removeEventListener(e,t,s)}destroyChildren(){this.children.forEach((e=>{e.destroy()})),this.children.length=0}destroy(){this.destroyChildren(),this.node.remove()}}!function(e){e.GARAGE="garage",e.ENGINE="engine",e.WINNERS="winners"}(e||(e={})),function(e){e.GET="GET",e.DELETE="DELETE",e.PUT="PUT",e.POST="POST",e.PATCH="PATCH"}(t||(t={})),function(e){e.PLACEHOLDER="placeholder",e.TYPE="type",e.NAME="name",e.ID="id",e.FOR="for",e.REQUIRED="required",e.ACTION="action",e.DISABLED="disabled",e.CHECKED="checked",e.VALUE="value",e.SELECTED="selected"}(n||(n={})),function(e){e.SRC="src",e.ALT="alt"}(o||(o={})),function(e){e.HREF="href",e.TARGET="target"}(i||(i={}));class c extends u{constructor({classNames:e,id:t,type:s="text",name:r,placeholder:o,required:i,checked:a,onChange:l}){super({tag:"input",classNames:e}),this.setAttribute(n.ID,t),this.setAttribute(n.TYPE,s),this.setAttribute(n.NAME,r),o&&this.setAttribute(n.PLACEHOLDER,o),a&&this.setAttribute(n.CHECKED,a),i&&this.setAttribute(n.REQUIRED,i),l&&(this.onChange=l,this.addListener("input",this.onChange))}destroy(){this.onChange&&(this.removeListener("input",this.onChange),super.destroy())}}class h extends u{constructor({classNames:e,text:t,onClick:s}){super({tag:"button",classNames:e,text:t}),s&&(this.onClick=s,this.addListener("click",this.onClick))}destroy(){this.onClick&&(this.removeListener("click",this.onClick),super.destroy())}}const m=(e,...t)=>new u({tag:"div",classNames:e},...t),g=(e,t,s,r,n,o,i)=>new c({classNames:e,id:t,name:s,type:r,placeholder:n,required:o,onChange:i}),p=(e,t)=>new u({tag:"label",classNames:e,text:t}),b=(e,t,s)=>new h({classNames:e,text:t,onClick:s}),E=e=>new u({tag:"img",classNames:e}),v=e=>new u({tag:"a",classNames:e});class f extends u{constructor(){super({tag:"header",classNames:["Header-module_header_uNX8Ji"]},new u({tag:"p",classNames:["Header-module_header-title_Ryd7lg"],text:"Fun Chat"})),this.setContent()}setContent(){const e=m(["Header-module_wrapper_xhbvNE"]),t=b(["btn","header-btn"],"First Button");t.addClass("Header-module_active_liiKt1");const s=b(["btn","header-btn","winner-btn"],"Second Button");e.appendChildren([t,s]),this.append(e)}}function L(e){if(null==e)throw new Error(`${e} is not defined`)}const A="LoginForm-module_text-field_uUXidG",y="LoginForm-module_label_dptREz",C="LoginForm-module_input_MFVMkd",_="LoginForm-module_valid_eOALK9",N="LoginForm-module_invalid_k5Jre_",S="LoginForm-module_hidden_XXOG1v",w="LoginForm-module_name-error_qtqGwP",F="LoginForm-module_surname-error_L0D28R";class T extends u{constructor(){super({tag:"form",classNames:["LoginForm-module_form_pEvhld","form"]}),this.loginButton=b(["button","btn"],"Login"),this.isNameValid=!1,this.isSurnameValid=!1,this.setAttribute(n.ACTION,""),this.setForm(),this.addListener("submit",(e=>{e.preventDefault()}))}setForm(){const e=new u({tag:"h1",classNames:["form__title","title"],text:"Login"}),t=p([y],"Name"),s=p([y],"Surname"),r=m([w,S]),o=m([F,S]);this.nameInput=g([C,"name-input"],"name","name","Enter your Name","true"),this.surnameInput=g([C],"surname","surname","Enter your Surname","true"),t.setAttribute(n.FOR,"name"),s.setAttribute(n.FOR,"surname");const i=m([A],t,this.nameInput,r),a=m([A],s,this.surnameInput,o);this.appendChildren([e,i,a,this.loginButton])}toggleButtonState(){this.isNameValid&&this.isSurnameValid?this.loginButton.removeAttribute(n.DISABLED):this.loginButton.setAttribute(n.DISABLED,"true")}toggleInputState(e,t,s){t.classList.toggle(_,e),t.classList.toggle(N,!e),"name"===s&&(this.isNameValid=e),"surname"===s&&(this.isSurnameValid=e),0===t.value.length&&(t.classList.remove(_),t.classList.remove(N),"name"===s&&(this.isNameValid=!1),"surname"===s&&(this.isSurnameValid=!1)),this.toggleButtonState()}validateName(e){const t=e.target,s=T.validateForm(t,`.${w}`,3);this.toggleInputState(s,t,t.name)}validateSurname(e){const t=e.target,s=T.validateForm(t,`.${F}`,4);this.toggleInputState(s,t,t.name)}static isFirstLetterUppercase(e){return/^[A-Z]/.test(e)}static validateForm(e,t,s){const r=e.value,n=document.querySelector(t);if(L(n),""===r.trim())return T.hideErrorMessage(n),!1;if(!/^[A-Za-z-]+$/.test(r))return T.showErrorMessage(n,'Field only accept English alphabet letters and the hyphen (" - ") symbol'),!1;if(!T.isFirstLetterUppercase(r))return T.showErrorMessage(n,"First letter of the field must be in uppercase"),!1;if(r.length<s){const e=`Minimum length of the ${3===s?"first name":"surname"} is ${s} characters`;return T.showErrorMessage(n,e),!1}return T.hideErrorMessage(n),!0}static showErrorMessage(e,t){const s=e;e.classList.remove(S),s.textContent=t}static hideErrorMessage(e){const t=e;e.classList.add(S),t.textContent=""}saveFormData(){const e=this.nameInput?.getNode(),t=this.surnameInput?.getNode();L(e),L(t);const s={name:e.value,surname:t.value},r=JSON.stringify(s);localStorage.setItem("userData",r)}clearForm(){this.getNode().reset(),this.nameInput?.removeClass(_),this.surnameInput?.removeClass(_)}}class x extends u{constructor(){super({tag:"main",classNames:["Main-module_main_d2LaAM","container"]}),this.setPage()}setPage(){this.destroyChildren();const e=new T;this.append(e)}}const R=s.p+"images/school-logo.ad178c0d.svg",I=s.p+"images/github-logo.1bc6258a.svg",D="Footer-module_link_IhM0Td",k="Footer-module_img_BHwJLh";class O extends u{constructor(){super({tag:"footer",classNames:["Footer-module_footer_lJrnFv"]}),this.setBlock()}setBlock(){const e=m(["Footer-module_copyright_U8o4L2"]),t=v([D]),s=v([D]),r=new u({tag:"span",classNames:["copy"],text:"Â© 2024, by Hrybach Oleksiy"}),n=E([k]),a=E([k]);t.setAttribute(i.HREF,"https://github.com/hrybach-oleksiy"),t.setAttribute(i.TARGET,"_blank"),s.setAttribute(i.HREF,"https://rs.school/js/"),s.setAttribute(i.TARGET,"_blank"),n.setAttribute(o.SRC,I),n.setAttribute(o.ALT,"GitHub Logo"),a.setAttribute(o.SRC,R),a.setAttribute(o.ALT,"RS School Logo"),t.append(n),s.append(a),e.appendChildren([t,s,r]),this.append(e)}}(new class{constructor(){this.root=m(["app"]),document.body.append(this.root.getNode()),document.body.setAttribute("data-theme","light")}createLayout(){this.root.destroyChildren();const e=new f,t=new x,s=new O;this.root.appendChildren([e,t,s])}}).createLayout();const M=new WebSocket("ws://127.0.0.1:4000"),P=document.querySelector(".form");P&&P.addEventListener("submit",(function(e){e.preventDefault();const t=document.querySelector(".name-input");t.value&&(M.send(JSON.stringify({id:null,type:"USER_LOGIN",payload:{user:{login:"lalala",password:"bebebe"}}})),t.value=""),t.focus()})),M.addEventListener("message",(({data:e})=>{console.log(e)}))})()})();