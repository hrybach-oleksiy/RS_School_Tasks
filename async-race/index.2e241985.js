(()=>{"use strict";var e={385:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},875:(e,t,s)=>{e.exports=s.p+"images/favicon-32x32.4bbb5e58.png"}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),s.b=document.baseURI||self.location.href;var r={};(()=>{s.r(r);var e=s(385),t=s.n(e),n=new URL(s(875),s.b);t()(n);class a{constructor({tag:e="div",classNames:t=[],text:s=""},...r){this.children=[];const n=document.createElement(e);n.classList.add(...t),n.textContent=s,this.node=n,r&&this.appendChildren(r)}append(e){this.children.push(e),this.node.append(e.getNode())}appendChildren(e){e.forEach((e=>{this.append(e)}))}getNode(){return this.node}getChildren(){return this.children}setTextContent(e){this.node.textContent=e}setAttribute(e,t){this.node.setAttribute(e,t)}setAttributes(e){Object.keys(e).forEach((t=>{this.node.setAttribute(t,e[t])}))}removeAttribute(e){this.node.removeAttribute(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e){this.node.classList.toggle(e)}addListener(e,t,s=!1){this.node.addEventListener(e,t,s)}removeListener(e,t,s=!1){this.node.removeEventListener(e,t,s)}destroyChildren(){this.children.forEach((e=>{e.destroy()})),this.children.length=0}destroy(){this.destroyChildren(),this.node.remove()}}console.log();class o extends a{constructor({classNames:e,text:t,onClick:s}){super({tag:"button",classNames:e,text:t}),s&&(this.onClick=s,this.addListener("click",this.onClick))}destroy(){this.onClick&&(this.removeListener("click",this.onClick),super.destroy())}}const i=(e,...t)=>new a({tag:"div",classNames:e},...t),c=(e,t)=>new a({tag:"h1",classNames:e,text:t}),d=(e,t)=>new a({tag:"h2",classNames:e,text:t}),l=(e,t)=>new a({tag:"span",classNames:e,text:t}),h=(e,t,s)=>new o({classNames:e,text:t,onClick:s}),p=e=>new a({tag:"img",classNames:e}),u=e=>new a({tag:"a",classNames:e}),g="Header-module_active_liiKt1";class m extends a{constructor(){super({tag:"header",classNames:["Header-module_header_uNX8Ji"]},new a({tag:"p",classNames:["Header-module_header-title_Ryd7lg"],text:"Async Race"})),this.setContent()}setContent(){const e=i(["Header-module_wrapper_xhbvNE"]),t=h(["btn","header-btn"],"Garage",m.changeView);t.addClass(g);const s=h(["btn","header-btn"],"Winners",m.changeView);e.appendChildren([t,s]),this.append(e)}}m.changeView=e=>{const t=e.target,s=document.querySelectorAll(".page"),r=document.querySelectorAll(".header-btn"),n=t.textContent;"Garage"===n&&(s[1].classList.add("hidden"),s[0].classList.remove("hidden")),"Winners"===n&&(s[0].classList.add("hidden"),s[1].classList.remove("hidden")),r.forEach((e=>{e.classList.contains(g)?e.classList.remove(g):e.classList.add(g)}))};const b=m;var w,f,C;!function(e){e.GARAGE="garage",e.ENGINE="engine",e.WINNERS="winners"}(w||(w={})),function(e){e.SRC="src",e.ALT="alt"}(f||(f={})),function(e){e.HREF="href",e.TARGET="target"}(C||(C={}));const y=s.p+"images/school-logo.ad178c0d.svg",N=s.p+"images/github-logo.1bc6258a.svg",v="footer-module_link_DKbGIh",_="footer-module_img_MrQMNV";class A extends a{constructor(){super({tag:"footer",classNames:["footer-module_footer_rlM2_G"]}),this.setBlock()}setBlock(){const e=i(["footer-module_copyright_JpZXSY"]),t=u([v]),s=u([v]),r=l(["copy"],"Â© 2024, by Hrybach Oleksiy"),n=p([_]),a=p([_]);t.setAttribute(C.HREF,"https://github.com/hrybach-oleksiy"),t.setAttribute(C.TARGET,"_blank"),s.setAttribute(C.HREF,"https://rs.school/js/"),s.setAttribute(C.TARGET,"_blank"),n.setAttribute(f.SRC,N),n.setAttribute(f.ALT,"GitHub Logo"),a.setAttribute(f.SRC,y),a.setAttribute(f.ALT,"RS School Logo"),t.append(n),s.append(a),e.appendChildren([t,s,r]),this.append(e)}}class L extends a{constructor(){super({tag:"div",classNames:["garage","page"]}),this.totalCars=0,this.pageNumber=1,this.garageLink=`http://127.0.0.1:3000/${w.GARAGE}`,this.getCars=async(e,t=7)=>{try{const s=await fetch(`${this.garageLink}?_page=${e}&_limit=${t}`,{method:"GET"});return this.totalCars=Number(s.headers.get("X-Total-count")),this.setContent(),await s.json()}catch(e){throw console.error("Error occurred while fetching the list of cars:",e),e}},this.getCars(this.pageNumber)}setContent(){const e=c(["Garage-module_title_gJAqBj"],"Garage  "),t=l(["total-cars"],`(${this.totalCars})`);e.append(t);const s=d(["page-number-title"],"Page "),r=l(["page-number-count"],`#${this.pageNumber}`);s.append(r),this.appendChildren([e,s])}static setGenerateCarBlock(){const e=i(["generate-wrapper"]),t=i(["create-wrapper"]),s=i(["update-wrapper"]),r=i(["control-wrapper"]);return e.appendChildren([t,s,r]),e}}class E extends a{constructor(){super({tag:"div",classNames:["winners","page"]}),this.totalWinners=0,this.pageNumber=1,this.winnersLink=`http://127.0.0.1:3000/${w.WINNERS}`,this.getWinners=async(e,t=10)=>{try{const s=await fetch(`${this.winnersLink}?_page=${e}&_limit=${t}`,{method:"GET"});return this.totalWinners=Number(s.headers.get("X-Total-count")),this.setContent(),await s.json()}catch(e){throw console.error("Error occurred while fetching the list of winners:",e),e}},this.getWinners(this.pageNumber)}setContent(){const e=c(["Winners-module_title_r1TsqE"],"Winners  "),t=l(["total-winners"],`(${this.totalWinners})`);e.append(t);const s=d(["page-number-title"],"Page "),r=l(["page-number-count"],`#${this.pageNumber}`);s.append(r),this.appendChildren([e,s])}}class x extends a{constructor(){super({tag:"main",classNames:["Main-module_main_d2LaAM"]}),this.setPage()}setPage(){this.destroyChildren();const e=new L,t=new E;t.addClass("hidden"),this.appendChildren([e,t])}}(new class{constructor(){this.root=i(["app","container"]),document.body.append(this.root.getNode()),document.body.setAttribute("data-theme","light")}createLayout(){this.root.destroyChildren();const e=new b,t=new x,s=new A;this.root.appendChildren([e,t,s])}}).createLayout()})()})();