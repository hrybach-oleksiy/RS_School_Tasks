(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},838:(e,t,n)=>{e.exports=n.p+"assets/favicon-32x32.715ffb00.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href;var r={};(()=>{n.r(r);var e=n(91),t=n.n(e),o=new URL(n(838),n.b);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}t()(o);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.createElement(e);if(t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&o.setAttribute(i,t[i]);return n&&("string"==typeof n?o.textContent=n:n instanceof HTMLElement&&o.append(n)),r&&(Array.isArray(r)?r.forEach((function(e){e instanceof HTMLElement&&o.append(e)})):r instanceof HTMLElement&&o.append(r)),o}}],null&&a(t.prototype,null),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:String(t)}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"saveGameState",value:function(e){var t=JSON.stringify(e);localStorage.setItem("gameState",t)}},{key:"loadGameState",value:function(){var e=localStorage.getItem("gameState");return e?JSON.parse(e):null}}],null&&u(t.prototype,null),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:String(t)}var p=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGameloaded=r,this.gameState=f.loadGameState(),this.size=t,this.puzzleArray=new Array(this.size).fill().map((function(){return new Array(o.size).fill(0)})),this.puzzleTemplate=n,this.cols=this.isGameloaded?this.gameState.puzzleState.cols:new Array(this.size).fill().map((function(){return[0]})),this.rows=this.isGameloaded?this.gameState.puzzleState.rows:new Array(this.size).fill().map((function(){return[0]})),this.puzzleCols=new Array(this.size).fill().map((function(){return[0]})),this.puzzleRows=new Array(this.size).fill().map((function(){return[0]})),console.log("puzzle template: ",this.puzzleTemplate),this.clearField(),this.setField(this.puzzleTemplate,this.puzzleRows,this.puzzleCols)}var t,n;return t=e,(n=[{key:"clearField",value:function(){var e=this.rows.length;this.cols=new Array(e).fill().map((function(){return[0]})),this.rows=new Array(e).fill().map((function(){return[0]}))}},{key:"setField",value:function(e,t,n){e.forEach((function(e,r){e.forEach((function(e,o){e?(n[o][n[o].length-1]++,t[r][t[r].length-1]++):(n[o][n[o].length-1]&&n[o].push(0),t[r][t[r].length-1]&&t[r].push(0))}))})),this.removeTrailingZeros(n),this.removeTrailingZeros(t)}},{key:"removeTrailingZeros",value:function(e){e.forEach((function(e){e.length>1&&!e[e.length-1]&&e.pop()}))}},{key:"toggleCellState",value:function(e,t){this.puzzleArray[e][t]=this.puzzleArray[e][t]?0:1,this.clearField(),this.setField(this.puzzleArray,this.rows,this.cols)}},{key:"getSolution",value:function(){return this.puzzleTemplate}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:String(t)}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalElement=s.create("div",{class:"modal hidden"}),this.isOpen=!1,this.closeButton=null,this.gameHandler=t,this.content=n,this.modalContentElement=s.create("div",{class:"modal__content"}),this.initModal()}var t,n;return t=e,n=[{key:"initModal",value:function(){var e=document.querySelector(".game");this.content instanceof HTMLElement?this.modalContentElement.append(this.content):this.modalContentElement.innerHTML=this.content,this.modalElement.append(this.modalContentElement),e.append(this.modalElement)}},{key:"open",value:function(){this.isOpen||(this.modalElement.classList.remove("hidden"),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.modalElement.classList.add("hidden"),this.isOpen=!1)}},{key:"addCloseBtn",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=s.create("button",{class:"btn close"},"".concat(e));r.addEventListener("click",(function(){t.close(),n&&t.gameHandler.showInitPage()})),this.modalContentElement.append(r)}}],n&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:String(t)}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.results=JSON.parse(localStorage.getItem("results"))||[],this.sortResults()}var t,n;return t=e,(n=[{key:"addResult",value:function(e){this.results.push(e),this.sortResults(),this.trimResults(),this.saveResultsToLocalStorage()}},{key:"sortResults",value:function(){this.results.sort((function(e,t){return e.time-t.time}))}},{key:"trimResults",value:function(){for(;this.results.length>5;)this.results.shift()}},{key:"saveResultsToLocalStorage",value:function(){localStorage.setItem("results",JSON.stringify(this.results))}},{key:"getResults",value:function(){return this.results}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function j(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:String(t)}var O=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"stopTimer",(function(){clearInterval(o.interval),o.timerElement.textContent="00 : 00",o.interval=null,o.timer=0})),j(this,"formatTimer",(function(){var e=Math.floor(o.timer/60),t=o.timer%60;o.timerElement.innerHTML=(e<10?"0"+e:e)+" : "+(t<10?"0"+t:t)})),this.isGameLoaded=r,this.gameHandler=n,this.gameState=f.loadGameState(),this.rootElement=document.querySelector(".game"),this.board=t,this.boardCols=t.puzzleCols,this.boardRows=t.puzzleRows,this.boardElement=s.create("div",{class:"board"}),this.modal=null,this.timer=this.isGameLoaded?this.gameState.timer:0,this.timerElement=s.create("div",{class:"timer"},"00 : 00"),this.interval=null,this.sounds=new Map([["clicked",this.createAudioElement("assets/clicked.mp3")],["unClicked",this.createAudioElement("assets/unclicked.mp3")],["crossed",this.createAudioElement("assets/crossed.mp3")],["win",this.createAudioElement("assets/game-win.mp3")]]),this.isSound=!this.isGameLoaded||this.gameState.soundState,this.soundElement=s.create("div",{class:"sound-on"}),this.resultsTable=new z,this.winningTime=null,this.gameTitleElement=s.create("p",{class:"game-title"}),this.setBoard(),this.setControls(),this.isGameLoaded&&this.restoreCellsState(this.gameState.cellsState)}var t,n;return t=e,(n=[{key:"createRowElement",value:function(e){var t=s.create("div",{class:"row"});return e%5==0?t.classList.add("divider-bottom"):t.classList.add("border-regular--bottom"),t}},{key:"createCellElement",value:function(e,t){var n=s.create("div");return t%5==0?n.classList.add("divider-right"):n.classList.add("border-regular--right"),0===e&&0===t?n.classList.add("cell","empty-cell"):0===t?(n.classList.add("cell","header-row-cell"),this.boardRows[e-1].forEach((function(e){n.textContent+=e+","})),n.textContent=n.textContent.slice(0,-1)):0===e?(n.classList.add("cell","header-column-cell"),this.boardCols[t-1].forEach((function(e){n.textContent+=e+"\n"}))):(n.classList.add("cell","game-cell"),n.dataset.indexes="".concat(e-1,"-").concat(t-1),this.handleRightClick(n),this.handleLeftClick(n)),n}},{key:"setBoard",value:function(){this.rootElement.innerHTML="",this.clearAudioElements();for(var e=0;e<=this.board.puzzleArray.length;e++){for(var t=this.createRowElement(e),n=0;n<=this.board.puzzleArray.length;n++){var r=this.createCellElement(e,n);t.append(r)}this.boardElement.append(t)}this.gameTitleElement.textContent="Game - ".concat(this.gameHandler.templateName),this.rootElement.append(this.gameHandler.titleElement,this.gameTitleElement,this.boardElement)}},{key:"handleRightClick",value:function(e){var t=this;e.addEventListener("contextmenu",(function(e){e.preventDefault();var n=A(e.target.dataset.indexes.split("-"),2),r=n[0],o=n[1];e.target.classList.contains("clicked")&&(e.target.classList.remove("clicked"),t.board.puzzleArray[r][o]=0,t.board.clearField(),t.board.setField(t.board.puzzleArray,t.board.rows,t.board.cols)),e.target.classList.toggle("crossed"),t.isSound&&t.playSound("crossed")}))}},{key:"handleLeftClick",value:function(e){var t=this;e.addEventListener("click",(function(e){if(t.startTimer(),!t.checkWin()){var n=e.target.dataset.indexes.split("-");t.board.toggleCellState(n[0],n[1]),e.target.classList.toggle("clicked"),e.target.classList.remove("crossed"),t.isSound&&(e.target.classList.contains("clicked")?t.playSound("clicked"):t.playSound("unClicked"))}if(t.checkWin()){var r='\n          <div class="modal__text">\n            <h3 class="modal__title">Great! You have solved the nonogram in <strong>'.concat(t.timer-1,"</strong> seconds!</h3>\n          </div>\n        "),o=new S(t.gameHandler,r);o.open(),o.addCloseBtn("Play Again",!0),t.winningTime=t.timer-1,t.saveGameResults(),t.stopTimer(),t.gameHandler.showResultBtnElement.disabled=!1,t.isSound&&t.playSound("win")}}))}},{key:"createButtonsContainer",value:function(){var e=this,t=s.create("div",{class:"btn-container"});return[{text:"Change template",handler:function(){return e.changeDifficulty()}},{text:"Restart Game",handler:function(){return e.restartGame()}},{text:"Save Game",handler:function(){return e.saveGameState()}},{text:"Solution",handler:function(){return e.handleSolutionBtnClick()}}].forEach((function(e){var n=e.text,r=e.handler,o=s.create("button",{class:"btn"},n);o.addEventListener("click",r),t.append(o)})),t}},{key:"setControls",value:function(){var e=this,t=this.createButtonsContainer(),n=s.create("div",{class:"sound-container"}),r=s.create("div",{class:"game-top-container"}),o=document.querySelector(".board");n.append(this.soundElement),n.addEventListener("click",(function(){e.turnSound()})),r.append(t,this.timerElement,n),o.insertAdjacentElement("beforebegin",r),this.rootElement.append(t)}},{key:"checkWin",value:function(){var e=this;return this.board.cols.every((function(t,n){return t.length===e.boardCols[n].length&&t.every((function(t,r){return t===e.boardCols[n][r]}))}))&&this.board.rows.every((function(t,n){return t.length===e.boardRows[n].length&&t.every((function(t,r){return t===e.boardRows[n][r]}))}))}},{key:"changeDifficulty",value:function(){this.gameHandler.showInitPage()}},{key:"restartGame",value:function(){var e=document.querySelectorAll(".clicked"),t=document.querySelectorAll(".crossed");e.forEach((function(e){return e.classList.remove("clicked")})),t.forEach((function(e){return e.classList.remove("crossed")})),this.stopTimer()}},{key:"startTimer",value:function(){var e=this;this.interval||(this.interval=setInterval((function(){return e.handleTimer()}),1e3))}},{key:"playSound",value:function(e){var t=this.sounds.get(e);t&&(t.currentTime=0,t.play())}},{key:"handleTimer",value:function(){this.formatTimer(),this.timer++}},{key:"createAudioElement",value:function(e){var t=new Audio(e);return t.style.display="none",document.body.append(t),t}},{key:"clearAudioElements",value:function(){document.querySelectorAll("audio").forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"turnSound",value:function(){this.isSound=!this.isSound,this.soundElement.classList.toggle("sound-on"),this.soundElement.classList.toggle("sound-off")}},{key:"saveGameState",value:function(){var e={puzzleState:{cols:this.board.cols,rows:this.board.rows,template:this.board.puzzleTemplate,size:this.board.size},timer:this.timer,soundState:this.isSound,cellsState:this.getCellsState()},t=new S(this.gameHandler,"Game Saved");t.open(),setTimeout((function(){t.close()}),1e3),f.saveGameState(e),this.gameHandler.loadBtnElement.disabled=!1}},{key:"getCellsState",value:function(){var e=Array.from(document.querySelectorAll(".clicked")),t=Array.from(document.querySelectorAll(".crossed")),n=Array.from(document.querySelectorAll(".game-cell"));return{clicked:e.map((function(e){return e.dataset.indexes})),crossed:t.map((function(e){return e.dataset.indexes})),empty:n.map((function(e){return e.dataset.indexes}))}}},{key:"restoreCellsState",value:function(e){var t=this;document.querySelectorAll(".cell").forEach((function(e){e.classList.remove("clicked","crossed")})),e.empty.forEach((function(e){var n=A(e.split("-"),2),r=n[0],o=n[1];t.board.puzzleArray[r][o]=0})),e.clicked.forEach((function(e){var n=A(e.split("-"),2),r=n[0],o=n[1];document.querySelector(".game .row:nth-child(".concat(Number(r)+2,") .cell:nth-child(").concat(Number(o)+2,")")).classList.add("clicked"),t.board.puzzleArray[r][o]=1})),e.crossed.forEach((function(e){var t=A(e.split("-"),2),n=t[0],r=t[1];document.querySelector(".game .row:nth-child(".concat(Number(n)+2,") .cell:nth-child(").concat(Number(r)+2,")")).classList.add("crossed")})),this.formatTimer(),this.board.clearField(),this.board.setField(this.board.puzzleArray,this.board.rows,this.board.cols)}},{key:"getCellElement",value:function(e,t){var n=".game .row:nth-child(".concat(e+1,") .cell:nth-child(").concat(t+1,")");return document.querySelector(n)}},{key:"handleSolutionBtnClick",value:function(){var e=this,t=this.board.getSolution(),n=document.querySelectorAll(".clicked");null==n||n.forEach((function(e){return e.classList.remove("clicked")})),t.forEach((function(t,n){t.forEach((function(t,r){1===t&&e.getCellElement(n+1,r+1).classList.add("clicked")}))}))}},{key:"saveGameResults",value:function(){var e={puzzleName:this.gameHandler.templateName,difficulty:this.gameHandler.difficulty,time:this.winningTime};this.resultsTable.addResult(e)}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function x(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:String(t)}var B=x((function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.puzzle=new p(t,n,o),new O(this.puzzle,r,o)}));const H=[{id:1,name:"Heart",size:5,template:[[0,1,0,1,0],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0]]},{id:2,name:"Letter M",size:5,template:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]]},{id:3,name:"New Year Tree",size:5,template:[[0,0,1,0,0],[0,1,1,1,0],[0,1,1,1,0],[1,1,1,1,1],[0,0,1,0,0]]},{id:4,name:"Star",size:5,template:[[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0]]},{id:5,name:"Sun",size:5,template:[[1,0,0,0,1],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[1,0,0,0,1]]},{id:6,name:"Camel",size:10,template:[[0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,1,1,1],[0,0,1,1,1,0,1,1,1,1],[0,0,1,1,1,0,1,0,0,0],[1,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,0,0,0],[0,0,1,0,0,1,0,0,0,0],[0,0,1,0,0,1,0,0,0,0]]},{id:7,name:"Beetle",size:10,template:[[0,0,1,0,0,0,0,1,0,0],[1,0,0,1,0,0,1,0,0,1],[0,1,0,0,1,1,0,0,1,0],[0,0,1,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,0,1,1,1,1,0,1,0],[1,0,1,0,0,0,0,1,0,1],[0,1,0,0,0,0,0,0,1,0]]},{id:8,name:"Dog",size:10,template:[[0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,0,0,0],[0,0,1,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0]]},{id:9,name:"Face",size:10,template:[[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,0,0,0,0,0,0,1,1],[1,1,0,1,0,0,1,0,1,1],[1,1,0,0,0,0,0,0,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,0,0,0,0,0,0,1,1],[1,1,0,1,1,1,1,0,1,1],[0,1,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,0,0]]},{id:10,name:"Letter T",size:10,template:[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0]]},{id:11,name:"House",size:15,template:[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,1,1,0,1,0,1,1,1,0,1,0,1,1,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,1,0,0,0,0,1,1,1,0,0,0,0,1,0]]},{id:12,name:"Mushroom",size:15,template:[[0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0]]},{id:13,name:"Fish",size:15,template:[[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0],[1,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[1,1,0,0,0,1,1,1,1,1,1,0,0,0,0],[1,1,1,0,1,1,0,0,0,0,0,1,1,0,0],[1,1,1,1,1,0,0,0,0,0,0,0,1,1,0],[1,1,1,1,1,0,0,0,0,1,1,0,0,1,0],[1,1,1,1,1,0,0,0,0,1,1,0,0,0,1],[1,1,1,1,1,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,1,1,1,0,0,0,0,1,1,1,0],[1,0,0,0,0,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,1,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0]]},{id:14,name:"Robot",size:15,template:[[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,1,0,1,0,1,0,0,0,0],[0,0,0,0,1,0,0,1,0,0,1,0,0,0,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],[1,1,0,0,0,1,0,0,0,1,0,0,0,1,1],[0,1,0,0,0,0,1,1,1,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0]]},{id:15,name:"Rocket",size:15,template:[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,1,1,1,0,0,1,0,0,0],[0,0,1,0,0,1,0,1,0,1,0,0,1,0,0],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[1,0,0,1,0,0,0,1,0,0,0,1,0,0,1]]}];function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function _(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:String(t)}var q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootElement=document.body,this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){document.body.setAttribute("data-theme","light"),localStorage.getItem("theme")?document.documentElement.classList.add("theme-light"):document.documentElement.classList.remove("theme-dark")}},{key:"changeTheme",value:function(e){this.rootElement.dataset.theme=e}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function D(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:String(t)}var Q=function(){function e(){W(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.sizes=n,this.rootElement=s.create("div",{class:"game"}),document.body.append(this.rootElement),this.templates=$(H),this.themeSwitcher=new q,this.size=null,this.templateName=this.templates[0].name,this.difficulty="easy",this.results=new z,this.gameState=new f,this.isGameLoaded=!1,this.loadBtnElement=s.create("button",{class:"btn"},"Load Last Game"),this.showResultBtnElement=s.create("button",{class:"btn"},"Show Results"),this.titleElement=s.create("h1",{class:"title"},"Nonogram Puzzle"),this.loadBtnElement.disabled=!localStorage.getItem("gameState"),this.showResultBtnElement.disabled=0===this.results.results.length}var t,n;return t=e,(n=[{key:"showInitPage",value:function(){var e=this;this.rootElement.innerHTML="";var t=s.create("p",{class:"menu-choose"},"Choose the template for the game"),n=this.createMenu(),r=s.create("div",{class:"btn-container"}),o=s.create("button",D({class:"btn"},"data-theme","dark"),"Change Theme"),i=s.create("button",{class:"btn"},"Random Game");this.loadBtnElement.addEventListener("click",(function(){e.loadGame()})),i.addEventListener("click",(function(){e.startRandomGame()})),this.showResultBtnElement.addEventListener("click",(function(){e.showGameResults()})),o.addEventListener("click",(function(t){var n=t.target.dataset.theme;e.themeSwitcher.changeTheme(n),t.target.dataset.theme="light"===n?"dark":"light"})),r.append(i,this.loadBtnElement,o,this.showResultBtnElement),this.rootElement.append(this.titleElement,t,n,r)}},{key:"createMenu",value:function(){var e,t=this,n=s.create("ul",{class:"menu"}),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=J(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.sizes);try{for(r.s();!(e=r.n()).done;){var o=e.value,i="";5===o?i="easy":10===o?i="medium":15===o&&(i="hard");var a=s.create("li",D(D({class:"menu-item"},"data-size",o),"data-difficulty",i));a.innerHTML='\n      <div class="menu-text">Templates for the <span class="difficulty">'.concat(i,'</span> game</div>\n      <div class="menu-sizes"> ').concat(o," &times ").concat(o,"</div>\n      "),a.addEventListener("click",(function(e){t.size=Number(e.currentTarget.dataset.size),t.difficulty=e.currentTarget.dataset.difficulty,t.chooseTemplate()})),n.append(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"createTemplatesMenu",value:function(){var e=this,t=s.create("ul",{class:"templates-menu"});return this.templates.filter((function(t){return t.size===e.size})).forEach((function(e){var n=s.create("li",D({class:"templates-menu__item"},"data-id",e.id),e.name);t.append(n)})),t}},{key:"chooseTemplate",value:function(){var e=this,t=this.createTemplatesMenu();new S(this,t).open(),document.querySelectorAll(".templates-menu__item").forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.dataset.id,r=e.templates[n-1],o=r.template;e.templateName=r.name,e.startGame(e.size,o,e)}))}))}},{key:"loadGame",value:function(){var e=f.loadGameState();console.log(e);var t=e.puzzleState.size,n=e.puzzleState.template;this.startGame(t,n,this,!0)}},{key:"startRandomGame",value:function(){var e=[5,10,15],t=e[Math.floor(Math.random()*e.length)],n=this.templates.filter((function(e){return e.size===t})),r=Math.floor(Math.random()*n.length),o=n[r].template;this.templateName=n[r].name,this.startGame(t,o,this)}},{key:"startGame",value:function(e,t,n,r){new B(e,t,n,r)}},{key:"createResultTable",value:function(e){var t=s.create("table",{class:"results-table"}),n=s.create("thead"),r=s.create("tr");["#","Puzzle name","Difficulty","Time"].forEach((function(e){var t=s.create("th",{},e);r.append(t)})),n.append(r),t.append(n);var o=s.create("tbody");return e.forEach((function(e,t){var n=s.create("tr",{class:"results-table__row"}),r=Math.floor(e.time/60),i=e.time%60,a="".concat(r,":").concat(i<10?"0":"").concat(i),l=s.create("td",{},String(t+1)),c=s.create("td",{},e.puzzleName),u=s.create("td",{},e.difficulty),m=s.create("td",{},a);n.append(l,c,u,m),o.append(n)})),t.append(o),t}},{key:"showGameResults",value:function(){var e=this.results.getResults(),t=this.createResultTable(e),n=new S(this,t);n.addCloseBtn("Close"),n.open()}}])&&Z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}function X(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:String(t)}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startBasicGame()}var t,n;return t=e,(n=[{key:"startBasicGame",value:function(){var e=new Q(5,10,15),t=e.templates[0].template;e.startGame(5,t,e,!1)}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())})()})();