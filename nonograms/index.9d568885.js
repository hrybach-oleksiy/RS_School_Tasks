(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},838:(e,t,n)=>{e.exports=n.p+"assets/favicon-32x32.715ffb00.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href;var r={};(()=>{n.r(r);var e=n(91),t=n.n(e),o=new URL(n(838),n.b);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}t()(o);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.createElement(e);if(t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&o.setAttribute(i,t[i]);return n&&("string"==typeof n?o.textContent=n:n instanceof HTMLElement&&o.append(n)),r&&(Array.isArray(r)?r.forEach((function(e){e instanceof HTMLElement&&o.append(e)})):r instanceof HTMLElement&&o.append(r)),o}}],null&&a(t.prototype,null),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:String(t)}var m=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=t,this.puzzleArray=new Array(this.size).fill().map((function(){return new Array(r.size).fill(0)})),this.puzzleTemplate=n,this.cols=new Array(this.size).fill().map((function(){return[0]})),this.rows=new Array(this.size).fill().map((function(){return[0]})),this.puzzleCols=new Array(this.size).fill().map((function(){return[0]})),this.puzzleRows=new Array(this.size).fill().map((function(){return[0]})),console.log("puzzle template: ",this.puzzleTemplate),this.clearField(),this.setField(this.puzzleTemplate,this.puzzleRows,this.puzzleCols)}var t,n;return t=e,(n=[{key:"clearField",value:function(){var e=this.rows.length;this.cols=new Array(e).fill().map((function(){return[0]})),this.rows=new Array(e).fill().map((function(){return[0]}))}},{key:"setField",value:function(e,t,n){e.forEach((function(e,r){e.forEach((function(e,o){e?(n[o][n[o].length-1]++,t[r][t[r].length-1]++):(n[o][n[o].length-1]&&n[o].push(0),t[r][t[r].length-1]&&t[r].push(0))}))})),this.removeTrailingZeros(n),this.removeTrailingZeros(t)}},{key:"removeTrailingZeros",value:function(e){e.forEach((function(e){e.length>1&&!e[e.length-1]&&e.pop()}))}},{key:"toggleCellState",value:function(e,t){this.puzzleArray[e][t]=this.puzzleArray[e][t]?0:1,this.clearField(),this.setField(this.puzzleArray,this.rows,this.cols)}},{key:"getSolution",value:function(){return this.puzzleTemplate}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:String(t)}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalElement=s.create("div",{class:"modal hidden"}),this.isOpen=!1,this.closeButton=null,this.gameHandler=t,this.content=n,this.modalContentElement=s.create("div",{class:"modal__content"}),this.initModal()}var t,n;return t=e,(n=[{key:"initModal",value:function(){var e=document.querySelector(".game");this.content instanceof HTMLElement?this.modalContentElement.append(this.content):this.modalContentElement.innerHTML=this.content,this.modalElement.append(this.modalContentElement),e.append(this.modalElement)}},{key:"open",value:function(){this.isOpen||(this.modalElement.classList.remove("hidden"),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.modalElement.classList.add("hidden"),this.isOpen=!1)}},{key:"addCloseBtn",value:function(){var e=this,t=s.create("button",{class:"btn close"},"Close");t.addEventListener("click",(function(){e.close()})),this.modalContentElement.append(t)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:String(t)}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"serializeGameState",value:function(e){return JSON.stringify({puzzleState:e.getPuzzleState(),timer:e.getTimer(),soundEnabled:e.getSoundState()})}},{key:"saveGameState",value:function(e){localStorage.setItem("savedGameState",e)}},{key:"loadGameState",value:function(){var e=localStorage.getItem("savedGameState");return e?JSON.parse(e):null}}],null&&b(t.prototype,null),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:String(t)}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.results=JSON.parse(localStorage.getItem("results"))||[],this.sortResults()}var t,n;return t=e,(n=[{key:"addResult",value:function(e){this.results.push(e),this.sortResults(),this.trimResults(),this.saveResultsToLocalStorage()}},{key:"sortResults",value:function(){this.results.sort((function(e,t){return e.time-t.time}))}},{key:"trimResults",value:function(){for(;this.results.length>5;)this.results.shift()}},{key:"saveResultsToLocalStorage",value:function(){localStorage.setItem("results",JSON.stringify(this.results))}},{key:"getResults",value:function(){return this.results}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function C(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:String(t)}var L=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"stopTimer",(function(){clearInterval(r.interval),r.timerElement.textContent="00 : 00",r.interval=null,r.timer=0})),C(this,"formatTimer",(function(){var e=Math.floor(r.timer/60),t=r.timer%60;r.timerElement.innerHTML=(e<10?"0"+e:e)+" : "+(t<10?"0"+t:t),r.timer++})),this.rootElement=document.querySelector(".game"),this.board=t,this.boardCols=t.puzzleCols,this.boardRows=t.puzzleRows,this.gameHandler=n,this.boardElement=s.create("div",{class:"board"}),this.modal=null,this.timer=0,this.timerElement=s.create("div",{class:"timer"},"00 : 00"),this.interval=null,this.sounds=new Map([["clicked",this.createAudioElement("/assets/clicked.mp3")],["unClicked",this.createAudioElement("/assets/unclicked.mp3")],["crossed",this.createAudioElement("/assets/crossed.mp3")],["win",this.createAudioElement("/assets/game-win.mp3")]]),this.isSound=!0,this.soundElement=s.create("div",{class:"sound-on"}),this.resultsTable=new z,this.winningTime=null,this.setBoard(),this.setControls()}var t,n;return t=e,(n=[{key:"createRowElement",value:function(e){var t=s.create("div",{class:"row"});return e%5==0?t.classList.add("divider-bottom"):t.classList.add("border-regular--bottom"),t}},{key:"createCellElement",value:function(e,t){var n=s.create("div");return t%5==0?n.classList.add("divider-right"):n.classList.add("border-regular--right"),0===e&&0===t?n.classList.add("cell"):0===t?(n.classList.add("cell","header-row-cell"),this.boardRows[e-1].forEach((function(e){n.textContent+=e+","})),n.textContent=n.textContent.slice(0,-1)):0===e?(n.classList.add("cell","header-column-cell"),this.boardCols[t-1].forEach((function(e){n.textContent+=e+"\n"}))):(n.classList.add("cell","game-cell"),n.dataset.indexes="".concat(e-1,"-").concat(t-1),this.handleRightClick(n),this.handleLeftClick(n)),n}},{key:"setBoard",value:function(){this.rootElement.innerHTML="",this.clearAudioElements();for(var e=0;e<=this.board.puzzleArray.length;e++){for(var t=this.createRowElement(e),n=0;n<=this.board.puzzleArray.length;n++){var r=this.createCellElement(e,n);t.append(r)}this.boardElement.append(t)}this.rootElement.append(this.boardElement)}},{key:"handleRightClick",value:function(e){var t=this;e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.target.classList.contains("clicked")||(e.target.classList.toggle("crossed"),t.isSound&&t.playSound("crossed"))}))}},{key:"handleLeftClick",value:function(e){var t=this;e.addEventListener("click",(function(e){if(t.startTimer(),!t.checkWin()){var n=e.target.dataset.indexes.split("-");t.board.toggleCellState(n[0],n[1]),e.target.classList.toggle("clicked"),e.target.classList.remove("crossed"),t.isSound&&(e.target.classList.contains("clicked")?t.playSound("clicked"):t.playSound("unClicked"))}if(t.checkWin()){var r='\n          <div class="modal__text">\n            <h3 class="modal__title">Great! You have solved the nonogram in <strong>'.concat(t.timer-1,'</strong> seconds!</h3>\n          </div>\n          <button class="btn play">Play Again</button>\n        ');new h(t.gameHandler,r).open(),t.winningTime=t.timer-1,t.saveGameResults(),t.stopTimer(),t.isSound&&t.playSound("win")}}))}},{key:"createButtonsContainer",value:function(){var e=this,t=s.create("div",{class:"btn-container"});return[{text:"Change template",handler:function(){return e.changeDifficulty()}},{text:"Restart",handler:function(){return e.restartGame()}},{text:"Save Game",handler:function(){return e.saveGame()}},{text:"Solution",handler:function(){return e.handleSolutionBtnClick()}}].forEach((function(e){var n=e.text,r=e.handler,o=s.create("button",{class:"btn"},n);o.addEventListener("click",r),t.append(o)})),t}},{key:"setControls",value:function(){var e=this,t=this.createButtonsContainer(),n=s.create("div",{class:"sound-container"});n.append(this.soundElement),n.addEventListener("click",(function(){e.turnSound()})),t.append(n),this.rootElement.append(t,this.timerElement)}},{key:"checkWin",value:function(){var e=this;return this.board.cols.every((function(t,n){return t.length===e.boardCols[n].length&&t.every((function(t,r){return t===e.boardCols[n][r]}))}))&&this.board.rows.every((function(t,n){return t.length===e.boardRows[n].length&&t.every((function(t,r){return t===e.boardRows[n][r]}))}))}},{key:"changeDifficulty",value:function(){this.gameHandler.showInitPage()}},{key:"getPuzzleState",value:function(){return{puzzleState:{cols:this.board.cols,rows:this.board.rows,template:this.board.puzzleTemplate,size:this.board.size},cellsState:{clicked:document.querySelectorAll("clicked"),crossed:document.querySelectorAll("crossed")}}}},{key:"getTimer",value:function(){return this.timer}},{key:"getSoundState",value:function(){return this.isSound}},{key:"restartGame",value:function(){var e=document.querySelectorAll(".clicked"),t=document.querySelectorAll(".crossed");e.forEach((function(e){return e.classList.remove("clicked")})),t.forEach((function(e){return e.classList.remove("crossed")})),this.stopTimer()}},{key:"startTimer",value:function(){this.interval||(this.interval=setInterval(this.formatTimer,1e3))}},{key:"playSound",value:function(e){var t=this.sounds.get(e);t&&(t.currentTime=0,t.play())}},{key:"createAudioElement",value:function(e){var t=new Audio(e);return t.style.display="none",document.body.append(t),t}},{key:"clearAudioElements",value:function(){document.querySelectorAll("audio").forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"turnSound",value:function(){this.isSound=!this.isSound,this.soundElement.classList.toggle("sound-on"),this.soundElement.classList.toggle("sound-off")}},{key:"saveGame",value:function(){var e=S.serializeGameState(this);console.log("puzzle rows after save: ",this.board.rows),console.log("puzzle cols after save: ",this.board.cols),S.saveGameState(e),console.log("data saved")}},{key:"getCellElement",value:function(e,t){var n=".game .row:nth-child(".concat(e+1,") .cell:nth-child(").concat(t+1,")");return document.querySelector(n)}},{key:"handleSolutionBtnClick",value:function(){var e=this;this.board.getSolution().forEach((function(t,n){t.forEach((function(t,r){1===t&&e.getCellElement(n+1,r+1).classList.add("clicked")}))}))}},{key:"saveGameResults",value:function(){var e={puzzleName:this.gameHandler.templateName,difficulty:this.gameHandler.difficulty,time:this.winningTime};this.resultsTable.addResult(e)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function R(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:String(t)}var M=R((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.puzzle=new m(t,n),new L(this.puzzle,r)}));const x=[{id:1,name:"Heart",size:5,template:[[0,1,0,1,0],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0]]},{id:2,name:"Letter M",size:5,template:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]]},{id:3,name:"New Year Tree",size:5,template:[[0,0,1,0,0],[0,1,1,1,0],[0,1,1,1,0],[1,1,1,1,1],[0,0,1,0,0]]},{id:4,name:"Star",size:5,template:[[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0]]},{id:5,name:"Sun",size:5,template:[[1,0,0,0,1],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[1,0,0,0,1]]},{id:6,name:"Camel",size:10,template:[[0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,1,1,1],[0,0,1,1,1,0,1,1,1,1],[0,0,1,1,1,0,1,0,0,0],[1,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,0,0,0],[0,0,1,0,0,1,0,0,0,0],[0,0,1,0,0,1,0,0,0,0]]},{id:7,name:"Beetle",size:10,template:[[0,0,1,0,0,0,0,1,0,0],[1,0,0,1,0,0,1,0,0,1],[0,1,0,0,1,1,0,0,1,0],[0,0,1,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,0,1,1,1,1,0,1,0],[1,0,1,0,0,0,0,1,0,1],[0,1,0,0,0,0,0,0,1,0]]},{id:8,name:"Dog",size:10,template:[[0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,1,1,1,0],[0,0,0,0,0,0,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,0,0,0],[0,0,1,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0]]},{id:9,name:"Face",size:10,template:[[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,0,0,0,0,0,0,1,1],[1,1,0,1,0,0,1,0,1,1],[1,1,0,0,0,0,0,0,1,1],[1,1,0,0,1,1,0,0,1,1],[1,1,0,0,0,0,0,0,1,1],[1,1,0,1,1,1,1,0,1,1],[0,1,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,0,0]]},{id:10,name:"Letter T",size:10,template:[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0]]},{id:11,name:"House",size:15,template:[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,1,1,0,1,0,1,1,1,0,1,0,1,1,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,1,0,0,0,0,1,1,1,0,0,0,0,1,0]]},{id:12,name:"Mushroom",size:15,template:[[0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0]]},{id:13,name:"Fish",size:15,template:[[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0],[1,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[1,1,0,0,0,1,1,1,1,1,1,0,0,0,0],[1,1,1,0,1,1,0,0,0,0,0,1,1,0,0],[1,1,1,1,1,0,0,0,0,0,0,0,1,1,0],[1,1,1,1,1,0,0,0,0,1,1,0,0,1,0],[1,1,1,1,1,0,0,0,0,1,1,0,0,0,1],[1,1,1,1,1,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,1,1,1,0,0,0,0,1,1,1,0],[1,0,0,0,0,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,1,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,1,0,0]]},{id:14,name:"Robot",size:15,template:[[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,1,0,1,0,1,0,0,0,0],[0,0,0,0,1,0,0,1,0,0,1,0,0,0,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],[1,1,0,0,0,1,0,0,0,1,0,0,0,1,1],[0,1,0,0,0,0,1,1,1,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0]]},{id:15,name:"Rocket",size:15,template:[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,0,0,1,1,1,0,0,1,0,0,0],[0,0,1,0,0,1,0,1,0,1,0,0,1,0,0],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[1,0,0,1,0,0,0,1,0,0,0,1,0,0,1]]}];function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:String(t)}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootElement=document.body,this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){document.body.setAttribute("data-theme","light"),localStorage.getItem("theme")?document.documentElement.classList.add("theme-light"):document.documentElement.classList.remove("theme-dark")}},{key:"changeTheme",value:function(e){this.rootElement.dataset.theme=e}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function q(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:String(t)}var Z=function(){function e(){$(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.sizes=n,this.rootElement=s.create("div",{class:"game"}),document.body.append(this.rootElement),this.templates=F(x),this.themeSwitcher=new N,this.size=null,this.templateName=this.templates[0].name,this.difficulty="easy",this.results=new z}var t,n;return t=e,(n=[{key:"showInitPage",value:function(){var e=this;this.rootElement.innerHTML="";var t=s.create("h1",{class:"title"},"Nonogram Puzzle"),n=s.create("p",{class:"menu-choose"},"Choose the template for the game"),r=this.createMenu(),o=s.create("button",{class:"btn"},"Load Last Game"),i=s.create("button",q({class:"btn"},"data-theme","dark"),"Change Theme"),a=s.create("button",{class:"btn"},"Play Random Game"),l=s.create("button",{class:"btn"},"Show Results");o.addEventListener("click",this.loadGame),a.addEventListener("click",(function(){e.startRandomGame()})),l.addEventListener("click",(function(){e.showGameResults()})),i.addEventListener("click",(function(t){var n=t.target.dataset.theme;e.themeSwitcher.changeTheme(n),t.target.dataset.theme="light"===n?"dark":"light"})),this.rootElement.append(t,n,r,o,a,i,l)}},{key:"createMenu",value:function(){var e,t=this,n=s.create("ul",{class:"menu"}),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.sizes);try{for(r.s();!(e=r.n()).done;){var o=e.value,i="";5===o?i="easy":10===o?i="medium":15===o&&(i="hard");var a=s.create("li",q(q({class:"menu-item"},"data-size",o),"data-difficulty",i));a.innerHTML='\n      <div class="menu-text">Templates for the <span class="difficulty">'.concat(i,'</span> game</div>\n      <div class="menu-sizes"> ').concat(o," &times ").concat(o,"</div>\n      "),a.addEventListener("click",(function(e){t.size=Number(e.currentTarget.dataset.size),t.difficulty=e.currentTarget.dataset.difficulty,t.chooseTemplate()})),n.append(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"createTemplatesMenu",value:function(){var e=this,t=s.create("ul",{class:"templates-menu"});return this.templates.filter((function(t){return t.size===e.size})).forEach((function(e){var n=s.create("li",q({class:"templates-menu__item"},"data-id",e.id),e.name);t.append(n)})),t}},{key:"chooseTemplate",value:function(){var e=this,t=this.createTemplatesMenu();new h(this,t).open(),document.querySelectorAll(".templates-menu__item").forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.dataset.id,r=e.templates[n-1],o=r.template;e.templateName=r.name,e.startGame(e.size,o,e)}))}))}},{key:"loadGame",value:function(){var e=S.loadGameState();if(e){var t=e.puzzleState,n=t.template,r=t.size,o=e.cellsState,i=o.clicked,a=o.crossed;console.log(i),console.log(a),new M(r,n,this),console.log("data loaded")}else console.log("no data")}},{key:"startRandomGame",value:function(){var e=[5,10,15],t=e[Math.floor(Math.random()*e.length)],n=this.templates.filter((function(e){return e.size===t})),r=n[Math.floor(Math.random()*n.length)].template;this.startGame(t,r,this)}},{key:"startGame",value:function(e,t,n){new M(e,t,n)}},{key:"createResultTable",value:function(e){var t=s.create("table",{class:"results-table"}),n=s.create("thead"),r=s.create("tr");["#","Puzzle name","Difficulty","Time"].forEach((function(e){var t=s.create("th",{},e);r.append(t)})),n.append(r),t.append(n);var o=s.create("tbody");return e.forEach((function(e,t){var n=s.create("tr",{class:"results-table__row"}),r=Math.floor(e.time/60),i=e.time%60,a="".concat(r,":").concat(i<10?"0":"").concat(i),l=s.create("td",{},String(t+1)),u=s.create("td",{},e.puzzleName),c=s.create("td",{},e.difficulty),f=s.create("td",{},a);n.append(l,u,c,f),o.append(n)})),t.append(o),t}},{key:"showGameResults",value:function(){var e=this.results.getResults(),t=this.createResultTable(e),n=new h(this,t);n.addCloseBtn(),n.open()}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function K(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:String(t)}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startBasicGame()}var t,n;return t=e,(n=[{key:"startBasicGame",value:function(){var e=new Z(5,10,15),t=e.templates[0].template;e.startGame(5,t,e)}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())})()})();